# [Platinum IV] 꼼꼼한 쿠기의 졸업여행 - 25172 

[문제 링크](https://www.acmicpc.net/problem/25172) 

### 성능 요약

메모리: 18744 KB, 시간: 152 ms

### 분류

자료 구조, 분리 집합, 오프라인 쿼리

### 문제 설명

<p>가톨릭대학교 학생인 쿠기는 졸업을 앞두고 여행을 가기로 결심했다. 꼼꼼한 성격인 쿠기는 여행을 가기 전에 여행계획을 미리 세우려 한다.</p>

<p>우선 쿠기는 가고 싶은 관광지를 모두 골라 여행지도를 그려봤다. 여행지도는 <em>1</em>부터 <em>N</em>까지의 서로 다른 번호를 가진 <em>N</em>개의 관광지가 있으며, 서로 다른 두 관광지를 오갈 수 있는<em> M</em>개의 길들로 이루어져 있다. 이때, 모든 관광지는 여러 번 방문이 가능하다.</p>

<p>쿠기는 여행예산이 이미 정해져 있기 때문에 아쉽지만 여행지도에서 관광지를 하나씩 제외해보며 여행계획을 세우려 한다. 만약, 어떤 관광지를 제외했다면, 제외한 관광지와 연결된 모든 길도 여행지도상에서 제외가 된다. 또한, 제외된 관광지와 길은 여행지도에서 영구적으로 제외가 된다.</p>

<p>쿠기가 생각하는 이상적인 여행계획은 여행지도에 반드시 하나 이상의 관광지가 존재하고 임의의 관광지에서 다른 어떤 관광지도 모두 도달할 수 있어야 한다. 쿠기를 도와 여행지도에서 관광지를 계속해서 하나씩 제외했을 때 이상적인 여행계획이 되는지 확인해보자.</p>

### 입력 

 <p>첫번째 줄에는 여행지도에 있는 관광지의 수 <em>N</em>(1 ≤ <em>N</em> ≤ 200,000)와 두 관광지 사이를 연결하는 길의 수<em> M</em>(1 ≤ <em>M</em> ≤ min(<em>N</em>×(<em>N</em>-1)/2, 200,000))가 주어진다.</p>

<p>다음 <em>M</em>개의 줄에는 쿠기가 그린 여행지도에서 각각의 길이 연결하는 두 관광지의 번호가 주어진다. 단, 길은 중복해서 주어지지 않는다.</p>

<p>그 다음<em> N</em>개의 줄에 제외할 관광지 리스트가 순서대로 주어진다.</p>

### 출력 

 <p>첫번째 줄에는 관광지를 단 하나도 제외하지 않았을 때 이상적인 여행계획이 되는지 확인한다.</p>

<p>그 다음 줄부터는 입력에서 주어지는 제외할 관광지 리스트 중<em> i</em>번째 관광지를 제외했을 때 이상적인 여행계획이 되는지 확인한다. </p>

<p>여행계획을 확인했을 때 이상적인 여행계획이라면 "<code>CONNECT</code>"아니면 "<code>DISCONNECT</code>"를 출력한다.</p>

